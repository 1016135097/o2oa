(function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)})(function(e){e.defineMode("javascript",function(r,t){var n,i,a,o,f;function u(e,r,t){Ee=e;Ie=t;return r}function c(e,r){var t=e.next();if('"'==t||"'"==t)return r.tokenize=l(t),r.tokenize(e,r);if("."==t&&e.match(/^\d+(?:[eE][+\-]?\d+)?/))return u("number","number");if("."==t&&e.match(".."))return u("spread","meta");if(/[\[\]{}\(\),;\:\.]/.test(t))return u(t);if("="==t&&e.eat(">"))return u("=>","operator");if("0"==t&&e.eat(/x/i))return e.eatWhile(/[\da-f]/i),u("number","number");if(/\d/.test(t))return e.match(/^\d*(?:\.\d*)?(?:[eE][+\-]?\d+)?/),u("number","number");if("/"==t){if(e.eat("*"))return r.tokenize=s,s(e,r);if(e.eat("/"))return e.skipToEnd(),u("comment","comment");if("operator"==r.lastType||"keyword c"==r.lastType||"sof"==r.lastType||/^[\[{}\(,;:]$/.test(r.lastType)){e:for(var t=!1,n,i=!1;null!=(n=e.next());){if(!t){if("/"==n&&!i)break e;"["==n?i=!0:i&&"]"==n&&(i=!1)}t=!t&&"\\"==n}e.match(/^\b(([gimyu])(?![gimyu]*\2))+\b/);return u("regexp","string-2")}e.eatWhile(Me);return u("operator","operator",e.current())}if("`"==t)return r.tokenize=p,p(e,r);if("#"==t)return e.skipToEnd(),u("error","error");if(Me.test(t))return e.eatWhile(Me),u("operator","operator",e.current());if(we.test(t))return e.eatWhile(we),t=e.current(),(n=je.propertyIsEnumerable(t)&&je[t])&&"."!=r.lastType?u(n.type,n.style,t):u("variable","variable",t)}function l(e){return function(r,t){var n=!1,i;if(ke&&"@"==r.peek()&&r.match(Ve))return t.tokenize=c,u("jsonld-keyword","meta");for(;null!=(i=r.next())&&(i!=e||n);)n=!n&&"\\"==i;n||(t.tokenize=c);return u("string","string")}}function s(e,r){for(var t=!1,n;n=e.next();){if("/"==n&&t){r.tokenize=c;break}t="*"==n}return u("comment","comment")}function p(e,r){for(var t=!1,n;null!=(n=e.next());){if(!t&&("`"==n||"$"==n&&e.eat("{"))){r.tokenize=c;break}t=!t&&"\\"==n}return u("quasi","string-2",e.current())}function d(e,r){r.fatArrowAt&&(r.fatArrowAt=null);var t=e.string.indexOf("=>",e.start);if(!(0>t)){for(var n=0,i=!1,t=t-1;0<=t;--t){var a=e.string.charAt(t),o=ze.indexOf(a);if(0<=o&&3>o){if(!n){++t;break}if(0==--n)break}else if(3<=o&&6>o)++n;else if(we.test(a))i=!0;else{if(/["'\/]/.test(a))return;if(i&&!n){++t;break}}}i&&!n&&(r.fatArrowAt=t)}}function v(e,r,t,n,i,a){this.indented=e;this.column=r;this.type=t;this.prev=i;this.info=a;null!=n&&(this.align=n)}function m(){for(var e=arguments.length-1;0<=e;e--)n.push(arguments[e])}function y(){m.apply(null,arguments);return!0}function b(e){function r(r){for(;r;r=r.next)if(r.name==e)return!0;return!1}var n=i;n.context?(a="def",r(n.localVars)||(n.localVars={name:e,next:n.localVars})):!r(n.globalVars)&&t.globalVars&&(n.globalVars={name:e,next:n.globalVars})}function x(){i.context={prev:i.context,vars:i.localVars};i.localVars=Ae}function k(){i.localVars=i.context.vars;i.context=i.context.prev}function h(e,r){var t=function(){var t=i,n=t.indented;if("stat"==t.lexical.type)n=t.lexical.indented;else for(var a=t.lexical;a&&")"==a.type&&a.align;a=a.prev)n=a.indented;t.lexical=new v(n,o.column(),e,null,t.lexical,r)};t.lex=!0;return t}function g(){var e=i;e.lexical.prev&&(")"==e.lexical.type&&(e.indented=e.lexical.indented),e.lexical=e.lexical.prev)}function w(e){function r(t){return t==e?y():";"==e?m():y(r)}return r}function j(e,r){return"var"==e?y(h("vardef",r.length),J,w(";"),g):"keyword a"==e?y(h("form"),M,j,g):"keyword b"==e?y(h("form"),j,g):"{"==e?y(h("}"),D,g):";"==e?y():"if"==e?("else"==i.lexical.info&&i.cc[i.cc.length-1]==g&&i.cc.pop()(),y(h("form"),M,j,g,X)):"function"==e?y(te):"for"==e?y(h("form"),Y,j,g):"variable"==e?y(h("stat"),P):"switch"==e?y(h("form"),M,h("}","switch"),w("{"),D,g,g):"case"==e?y(M,w(":")):"default"==e?y(w(":")):"catch"==e?y(h("form"),x,w("("),ne,w(")"),j,g,k):"module"==e?y(h("form"),x,ue,k,g):"class"==e?y(h("form"),ie,g):"export"==e?y(h("form"),ce,g):"import"==e?y(h("form"),le,g):m(h("stat"),M,w(";"),g)}function M(e){return E(e,!1)}function V(e){return E(e,!0)}function E(e,r){if(i.fatArrowAt==o.start){var t=r?O:q;if("("==e)return y(x,h(")"),H(K,")"),g,w("=>"),t,k);if("variable"==e)return m(x,K,w("=>"),t,k)}t=r?A:T;return Te.hasOwnProperty(e)?y(t):"function"==e?y(te,t):"keyword c"==e?y(r?z:I):"("==e?y(h(")"),I,ye,w(")"),g,t):"operator"==e||"spread"==e?y(r?V:M):"["==e?y(h("]"),ve,g,t):"{"==e?U(W,"}",null,t):"quasi"==e?m(C,t):y()}function I(e){return e.match(/[;\}\)\],]/)?m():m(M)}function z(e){return e.match(/[;\}\)\],]/)?m():m(V)}function T(e,r){return","==e?y(M):A(e,r,!1)}function A(e,r,t){var n=!1==t?T:A,i=!1==t?M:V;if("=>"==e)return y(x,t?O:q,k);if("operator"==e)return/\+\+|--/.test(r)?y(n):"?"==r?y(M,w(":"),i):y(i);if("quasi"==e)return m(C,n);if(";"!=e){if("("==e)return U(V,")","call",n);if("."==e)return y(S,n);if("["==e)return y(h("]"),I,w("]"),g,n)}}function C(e,r){return"quasi"!=e?m():"${"!=r.slice(r.length-2)?y(C):y(M,$)}function $(e){if("}"==e)return a="string-2",i.tokenize=p,y(C)}function q(e){d(o,i);return m("{"==e?j:M)}function O(e){d(o,i);return m("{"==e?j:V)}function P(e){return":"==e?y(g,j):m(T,w(";"),g)}function S(e){if("variable"==e)return a="property",y()}function W(e,r){if("variable"==e||"keyword"==f)return a="property","get"==r||"set"==r?y(N):y(B);if("number"==e||"string"==e)return a=ke?"property":f+" property",y(B);if("jsonld-keyword"==e)return y(B);if("["==e)return y(M,w("]"),B)}function N(e){if("variable"!=e)return m(B);a="property";return y(te)}function B(e){if(":"==e)return y(V);if("("==e)return m(te)}function H(e,r){function t(n){return","==n?(n=i.lexical,"call"==n.info&&(n.pos=(n.pos||0)+1),y(e,t)):n==r?y():y(w(r))}return function(n){return n==r?y():m(e,t)}}function U(e,r,t){for(var i=3;i<arguments.length;i++)n.push(arguments[i]);return y(h(r,t),H(e,r),g)}function D(e){return"}"==e?y():m(j,D)}function F(e){if(ge&&":"==e)return y(G)}function G(e){if("variable"==e)return a="variable-3",y()}function J(){return m(K,F,Q,R)}function K(e,r){if("variable"==e)return b(r),y();if("["==e)return U(K,"]");if("{"==e)return U(L,"}")}function L(e,r){if("variable"==e&&!o.match(/^\s*:/,!1))return b(r),y(Q);"variable"==e&&(a="property");return y(w(":"),K,Q)}function Q(e,r){if("="==r)return y(V)}function R(e){if(","==e)return y(J)}function X(e,r){if("keyword b"==e&&"else"==r)return y(h("form","else"),j,g)}function Y(e){if("("==e)return y(h(")"),Z,w(")"),g)}function Z(e){return"var"==e?y(J,w(";"),ee):";"==e?y(ee):"variable"==e?y(_):m(M,w(";"),ee)}function _(e,r){return"in"==r||"of"==r?(a="keyword",y(M)):y(T,ee)}function ee(e,r){return";"==e?y(re):"in"==r||"of"==r?(a="keyword",y(M)):m(M,w(";"),re)}function re(e){")"!=e&&y(M)}function te(e,r){if("*"==r)return a="keyword",y(te);if("variable"==e)return b(r),y(te);if("("==e)return y(x,h(")"),H(ne,")"),g,j,k)}function ne(e){return"spread"==e?y(ne):m(K,F)}function ie(e,r){if("variable"==e)return b(r),y(ae)}function ae(e,r){if("extends"==r)return y(M,ae);if("{"==e)return y(h("}"),oe,g)}function oe(e,r){if("variable"==e||"keyword"==f){if("static"==r)return a="keyword",y(oe);a="property";return"get"==r||"set"==r?y(fe,te,oe):y(te,oe)}if("*"==r)return a="keyword",y(oe);if(";"==e)return y(oe);if("}"==e)return y()}function fe(e){if("variable"!=e)return m();a="property";return y()}function ue(e,r){if("string"==e)return y(j);if("variable"==e)return b(r),y(de)}function ce(e,r){return"*"==r?(a="keyword",y(de,w(";"))):"default"==r?(a="keyword",y(M,w(";"))):m(j)}function le(e){return"string"==e?y():m(se,de)}function se(e,r){if("{"==e)return U(se,"}");"variable"==e&&b(r);"*"==r&&(a="keyword");return y(pe)}function pe(e,r){if("as"==r)return a="keyword",y(se)}function de(e,r){if("from"==r)return a="keyword",y(M)}function ve(e){return"]"==e?y():m(V,me)}function me(e){return"for"==e?m(ye,w("]")):","==e?y(H(z,"]")):m(H(V,"]"))}function ye(e){if("for"==e)return y(Y,ye);if("if"==e)return y(M,ye)}var be=r.indentUnit,xe=t.statementIndent,ke=t.jsonld,he=t.json||ke,ge=t.typescript,we=t.wordCharacters||/[\w$\xa1-\uffff]/,je=function(){function e(e){return{type:e,style:"keyword"}}var r=e("keyword a"),t=e("keyword b"),n=e("keyword c"),i=e("operator"),a={type:"atom",style:"atom"},r={if:e("if"),while:r,with:r,else:t,do:t,try:t,finally:t,return:n,break:n,continue:n,new:n,delete:n,throw:n,debugger:n,var:e("var"),const:e("var"),let:e("var"),function:e("function"),catch:e("catch"),for:e("for"),switch:e("switch"),case:e("case"),default:e("default"),in:i,typeof:i,instanceof:i,true:a,false:a,null:a,undefined:a,NaN:a,Infinity:a,this:e("this"),module:e("module"),class:e("class"),super:e("atom"),yield:n,export:e("export"),import:e("import"),extends:n};if(ge){var t={type:"variable",style:"variable-3"},t={interface:e("interface"),extends:e("extends"),constructor:e("constructor"),public:e("public"),private:e("private"),protected:e("protected"),static:e("static"),string:t,number:t,bool:t,any:t},o;for(o in t)r[o]=t[o]}return r}(),Me=/[+\-*&%=<>!?|~^]/,Ve=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/,Ee,Ie,ze="([{}])",Te={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,this:!0,"jsonld-keyword":!0};n=a=i=null;f=o=void 0;var Ae={name:"this",next:{name:"arguments"}};g.lex=!0;return{startState:function(e){e={tokenize:c,lastType:"sof",cc:[],lexical:new v((e||0)-be,0,"block",!1),localVars:t.localVars,context:t.localVars&&{vars:t.localVars},indented:0};t.globalVars&&"object"==typeof t.globalVars&&(e.globalVars=t.globalVars);return e},token:function(e,r){e.sol()&&(r.lexical.hasOwnProperty("align")||(r.lexical.align=!1),r.indented=e.indentation(),d(e,r));if(r.tokenize!=s&&e.eatSpace())return null;var t=r.tokenize(e,r);if("comment"==Ee)return t;r.lastType="operator"==Ee&&("++"==Ie||"--"==Ie)?"incdec":Ee;var u;e:{var c=Ee,l=Ie,p=r.cc;i=r;o=e;a=null;n=p;f=t;r.lexical.hasOwnProperty("align")||(r.lexical.align=!0);for(;;)if((p.length?p.pop():he?M:j)(c,l)){for(;p.length&&p[p.length-1].lex;)p.pop()();if(a){u=a;break e}if(u="variable"==c)r:{for(u=r.localVars;u;u=u.next)if(u.name==l){u=!0;break r}for(c=r.context;c;c=c.prev)for(u=c.vars;u;u=u.next)if(u.name==l){u=!0;break r}u=void 0}if(u){u="variable-2";break e}u=t;break e}}return u},indent:function(r,n){if(r.tokenize==s)return e.Pass;if(r.tokenize!=c)return 0;var i=n&&n.charAt(0),a=r.lexical;if(!/^\s*else\b/.test(n))for(var o=r.cc.length-1;0<=o;--o){var f=r.cc[o];if(f==g)a=a.prev;else if(f!=X)break}"stat"==a.type&&"}"==i&&(a=a.prev);xe&&(")"==a.type&&"stat"==a.prev.type)&&(a=a.prev);o=a.type;f=i==o;return"vardef"==o?a.indented+("operator"==r.lastType||","==r.lastType?a.info+1:0):"form"==o&&"{"==i?a.indented:"form"==o?a.indented+be:"stat"==o?a.indented+("operator"==r.lastType||","==r.lastType||Me.test(n.charAt(0))||/[,.]/.test(n.charAt(0))?xe||be:0):"switch"==a.info&&!f&&!1!=t.doubleIndentSwitch?a.indented+(/^(?:case|default)\b/.test(n)?be:2*be):a.align?a.column+(f?0:1):a.indented+(f?0:be)},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:he?null:"/*",blockCommentEnd:he?null:"*/",lineComment:he?null:"//",fold:"brace",closeBrackets:"()[]{}''\"\"``",helperType:he?"json":"javascript",jsonldMode:ke,jsonMode:he}});e.registerHelper("wordChars","javascript",/[\w$]/);e.defineMIME("text/javascript","javascript");e.defineMIME("text/ecmascript","javascript");e.defineMIME("application/javascript","javascript");e.defineMIME("application/x-javascript","javascript");e.defineMIME("application/ecmascript","javascript");e.defineMIME("application/json",{name:"javascript",json:!0});e.defineMIME("application/x-json",{name:"javascript",json:!0});e.defineMIME("application/ld+json",{name:"javascript",jsonld:!0});e.defineMIME("text/typescript",{name:"javascript",typescript:!0});e.defineMIME("application/typescript",{name:"javascript",typescript:!0})});